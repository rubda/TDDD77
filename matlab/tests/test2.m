%% Example data from Daniel Simon 

Q = [10     0     0     0
      0     2     0     0
      0     0     5     0
      0     0     0   100];
  
q = [0.5751
     0.7510
     0.1535
     0.3568];
 
A = [-0.9163   -0.1967   -0.0123    0.6752
     1.7876   -0.8901    0.0728    0.7860
     -0.8204    0.9107    0.9394   -2.1327];
 
b = [0.2199
     0.9663
     0.3500];

F = [0.9018    0.0317   -1.0579   -0.6312
      2.1212    0.3413   -0.6434   -0.5003
      1.2486   -0.0835    0.2584   -0.8672
     -1.1232    0.6164    0.8917   -1.0401
     -0.8301   -0.5250   -0.8366    1.2654
     -0.1218    1.0077    0.5531   -0.2415
     -0.6426    1.8291    1.4584   -1.7290
     -0.0789    0.0853   -0.8551   -0.4882
      1.2281   -0.0683   -0.9921    1.0604
     -0.5314   -0.5635   -0.0117   -0.5382
     -0.2861   -0.4736    0.6269    1.7773
     -0.2276   -1.7035    0.0015   -0.7795
      0.6745   -0.0537   -0.8163   -0.7530
      1.0368   -0.8813    0.1151   -1.0331
     -0.1495    1.2559    0.2071    1.1638
     -0.3171    0.1558   -0.4446   -0.5801
      0.9336    0.0549   -1.1205    0.4173
      0.7233    1.3986    0.4354   -1.6481
      0.4882   -1.7756    0.0171   -0.5727
      3.2662    0.3297   -0.3630    0.6592];
  
 g = [2.5608
      0.1002
      1.0968
      3.5569
      1.2822
      1.8934
      0.7085
      1.1576
      0.1129
      1.7866
      2.2442
      1.5517
      1.9250
      2.5216
      0.2158
      1.1543
      1.0513
      2.3039
      1.7168
      1.8912];
  
z0 = [0.055178 
     -0.626807 
      1.588966 
      0.246905]; 
     
%options = optimoptions(@quadprog, 'Algorithm', 'active-set');
%options = optimoptions(@quadprog, 'Display', 'iter-detailed');
%[x, val] = quadprog(Q, q, F, g, A, b, [], [], [0; 0; 0; 0;], options)

%options = optimoptions(@quadprog, 'Algorithm', 'active-set');
%q = @() quadprog(Q, q, F, g, A, b, [], [], [], options);
%t = timeit(q)

quadopt(Q, q, A, b, -F, -g, [], 0, 0)

