parameters
    Q(4,4)
    q(1,4)
    A(4,3)
    b(1,3)
    F(4,20)
    g(1,20)
end

variables
    z(4,1)
end

limits
  max_iterations=0
  max_ms=1
end

minimize 
    sum[k=0..N-1]((x_k)’*Q*(x_k) + (u_k)’*R*(u_k)) + (x_N)’*P*(x_N) 
subject to:
    x_0 = x0
    x_(k+1) = A*x_k + B*u_k, k=0…N-1
    x_min <= x_k <= x_max , k = 0..N-1
    u_min <= u_k <= u_max, k= 0…N-1
    F*(x_N) <= g
end