\section{Systemdesign}

% TODO: Flytta rubrikerna till rätt filer.

\subsection{Språk}
Programmet som skall lösa optimeringsproblemmet kommer att skrivas i programmeringsspråket C. 

\subsection{Standarder}
Källkoden kommer följa de standarder som är beskrivna i kvalitetsplanen.

\subsection{// Systemskiss}
Programmet kommer i huvudsak köras via matlab, där programmet kommer anropas som en funktion med all indata i parametrarna. Indatan kommer sedan kompileras till en header fil som sedan skickas till solvern. QP-solvern kommer sedan lösa problemet utifrån kompilerade datan och sedan returnera resultatet till matlab.

\input{tex/systemskiss.tex}

\subsection{// Syfte}
Syftet med arkitekturen är att skapa en översikt av hela systemet för att man på ett enkelt sätt ska få en överblick av hur alla moduler hänger ihop och hur de fungerar. Den är även ett underlag för att kunna skapa den slutgiltliga tekniska dokumentationen.

\subsection{// Prestanda}
Det är av yttersta vikt att programmet löser QP-problemet väldigt snabbt, i samma skala som Gurobi. Detta är dels för att flygplanet ska hinna utföra prediktionsregleringen i tid.

\subsection{// Stabilitet}
Programmet måste kunna klara av

\subsection{GUI}
GUI:t är gjort i Python och används för att mata in de matriser som behövs för att lösa problemet. GUI:t kommer att anropa parser.py med de inmatade matriserna.

\subsection{parser.py}
Gör om den indatan som kommer från GUI:t till en c-fil innehållande all data som solvern kommer behöva för att lösa problemet.

\subsection{problem.c}
Är den genererade datafilen som innehåller alla de matriser som solvern behöver för att lösa problemet skriven med samma datatyper som solvern kommer att använda.

\subsection{solver.c}
Innehåller metoderna för att lösa QP problemet. Där metoden är uppdelad i flera olika steg där varje steg motsvaras av en funktion.

\subsection{solver.mex}
Är ett gränssnitt mellan MATLAB och själva solvern. solver.mex innehåller funktioner som direkt kan anropas via matlab som vanliga matlabfunktioner. Den kommer att användas för att kunna skicka in matriser och köra solvern direkt via matlab.

\subsection{Arkitekturens delar}
Arkitekturen är uppdelad i tre större delar där GUI:t och parsern är en del ...
Lösningsalgoritmen solvern är en del ... active-set-metoden
Integrationen mot matlab är en del ... funktioner...

